# 已知问题记录

## 当前版本：v1.0

### 待处理问题

#### 1. PDF内部章节跳转功能
- **问题描述**：PDF文件中的目录链接无法正确跳转到对应章节
- **影响范围**：PDF格式输出
- **当前状态**：已尝试修复，但跳转功能仍不完善
- **技术细节**：
  - 锚点链接格式正确（如 `#章节名称`）
  - PDF生成配置已优化
  - 可能是 `pdfkit` 库在处理中文锚点时的兼容性问题
- **临时解决方案**：使用PDF阅读器的书签/大纲功能进行导航
- **优先级**：中等

#### 2. Markdown内部章节跳转功能
- **问题描述**：Markdown文件中的目录链接在某些编辑器中无法正确跳转
- **影响范围**：Markdown格式输出
- **当前状态**：锚点格式符合标准，但兼容性有限
- **技术细节**：
  - 锚点生成使用标准格式
  - 不同Markdown编辑器对中文锚点的支持不一致
  - 某些编辑器需要特殊格式的锚点
- **临时解决方案**：使用支持中文锚点的Markdown编辑器（如Typora、Mark Text等）
- **优先级**：低

### 已解决问题

#### ✅ PDF首页空白页问题
- **问题描述**：生成的PDF文件首页出现空白页
- **解决方案**：修复CSS中的页面断点设置
- **修复时间**：2025-10-01
- **状态**：已解决

#### ✅ PDF锚点链接指向临时文件问题
- **问题描述**：PDF中的跳转链接指向临时HTML文件而非PDF内部
- **解决方案**：重写HTML生成逻辑，直接构建HTML内容
- **修复时间**：2025-10-01
- **状态**：已解决

### 功能状态总结

| 功能 | 状态 | 说明 |
|------|------|------|
| NFO文件解析 | ✅ 正常 | 支持XML和文本格式 |
| Markdown生成 | ✅ 正常 | 包含目录和内容 |
| HTML生成 | ✅ 正常 | 包含跳转功能 |
| PDF生成 | ⚠️ 部分正常 | 布局正常，跳转功能待完善 |
| 文件扫描 | ✅ 正常 | 递归扫描所有NFO文件 |
| 内容分类 | ✅ 正常 | 按标签自动分类 |

### 建议的后续改进

1. **PDF跳转功能**：
   - 研究使用其他PDF生成库（如ReportLab、WeasyPrint）
   - 考虑生成带书签的PDF结构
   - 测试不同PDF阅读器的兼容性

2. **Markdown跳转功能**：
   - 研究不同编辑器的锚点格式要求
   - 考虑生成多种格式的锚点以兼容不同编辑器
   - 添加编辑器兼容性说明

3. **用户体验改进**：
   - 添加进度条显示
   - 支持批量处理多个目录
   - 添加配置文件支持

### 更新日志

- **2025-10-01**：修复PDF首页空白页问题
- **2025-10-01**：修复PDF锚点链接指向临时文件问题
- **2025-10-01**：记录已知的跳转功能问题
