# 更新日志

## [v1.1] - 2025-10-08

### 🎉 新增功能
- ✅ **中文字体自动检测**：程序启动时自动检测系统中的中文字体支持
- ✅ **专用字体安装脚本**：新增 `install_chinese_fonts.sh` 专门用于安装中文字体
- ✅ **项目结构文档**：新增 `PROJECT_STRUCTURE.md` 详细说明项目结构
- ✅ **Git配置**：新增 `.gitignore` 文件，规范版本控制

### 🔧 修复问题
- ✅ **PDF中文显示问题**：完全修复PDF文件中中文显示为方块或乱码的问题
  - 添加 `@font-face` 声明支持多种中文字体
  - 优化字体回退链，确保中文正确显示
  - 改进PDF生成配置，提高渲染质量

### 📚 文档更新
- ✅ **README.md**：更新版本历史，添加中文字体安装说明
- ✅ **KNOWN_ISSUES.md**：记录PDF中文显示问题的修复过程
- ✅ **PDF功能安装说明.md**：添加详细的中文显示问题解决方案
- ✅ **安装脚本**：更新 `install_dependencies.sh` 包含中文字体安装

### 🛠️ 技术改进
- ✅ **字体检测功能**：添加 `_check_chinese_fonts()` 方法自动检测字体
- ✅ **PDF配置优化**：改进wkhtmltopdf配置选项，提高中文渲染效果
- ✅ **错误处理**：增强字体相关的错误处理和用户提示

### 📦 依赖更新
- ✅ **系统字体**：支持 Noto Sans CJK、Source Han Sans、PingFang SC 等中文字体
- ✅ **跨平台支持**：Ubuntu/Debian、CentOS/RHEL、macOS、Windows 字体安装指导

---

## [v1.0] - 2025-10-01

### 🎉 初始版本
- ✅ **NFO文件解析**：支持XML和文本格式的NFO文件解析
- ✅ **多格式输出**：支持Markdown、HTML、PDF三种格式输出
- ✅ **智能分类**：按tag字段自动分类整理内容
- ✅ **目录生成**：自动生成可点击的目录结构
- ✅ **错误处理**：完善的错误处理和文件跳过机制

### 🔧 修复问题
- ✅ **PDF首页空白页**：修复生成的PDF文件首页空白页问题
- ✅ **PDF锚点链接**：修复PDF中跳转链接指向临时文件的问题

### 📚 文档
- ✅ **完整文档**：README.md、KNOWN_ISSUES.md、PDF功能安装说明.md
- ✅ **使用示例**：详细的使用方法和参数说明
- ✅ **故障排除**：常见问题的解决方案

---

## 版本说明

### 版本号规则
- **主版本号**：重大功能更新或架构变更
- **次版本号**：新功能添加或重要问题修复
- **修订号**：小问题修复或文档更新

### 兼容性
- **Python版本**：3.6+
- **操作系统**：Linux、macOS、Windows
- **依赖管理**：支持系统包管理器和pip安装

### 升级建议
- 从v1.0升级到v1.1：建议重新安装依赖以获取中文字体支持
- 使用新的安装脚本：`bash install_dependencies.sh` 或 `bash install_chinese_fonts.sh`
